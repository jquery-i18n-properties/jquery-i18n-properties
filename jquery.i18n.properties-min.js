(function(m){function u(b){b.async&&(b.filesLoaded+=1,b.filesLoaded===b.totalFiles&&b.callback&&b.callback())}function v(b,a){null!=b&&0<b.length&&w(b[0],a,function(){b.shift();v(b,a)})}function w(b,a,d){null!=b&&m.ajax({url:b,async:a.async,cache:a.cache,dataType:"text",success:function(b,f){x(b,a.mode);d();u(a)},error:function(c,d,e){console.log("Failed to download or parse "+b);u(a)}})}function x(b,a){for(var d="",c=b.split(/\n/),f=/(\{\d+})/g,e=/\{(\d+)}/g,k=/(\\u.{4})/ig,g=0;g<c.length;g++)if(c[g]=
c[g].replace(/^\s\s*/,"").replace(/\s\s*$/,""),0<c[g].length&&"#"!=c[g].match("^#")){var h=c[g].split("=");if(0<h.length){for(var q=decodeURI(h[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),l=1==h.length?"":h[1];"\\"==l.match(/\\$/);)l=l.substring(0,l.length-1),l+=c[++g].replace(/\s\s*$/,"");for(var p=2;p<h.length;p++)l+="="+h[p];l=l.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if("map"==a||"both"==a){if(h=l.match(k))for(p=0;p<h.length;p++)l=l.replace(h[p],y(h[p]));m.i18n.map[q]=l}if("vars"==a||"both"==
a)if(l=l.replace(/"/g,'\\"'),z(q),f.test(l)){for(var h=l.split(f),p=!0,n="",t=[],r=0;r<h.length;r++)!f.test(h[r])||0!=t.length&&-1!=t.indexOf(h[r])||(p||(n+=","),n+=h[r].replace(e,"v$1"),t.push(h[r]),p=!1);d+=q+"=function("+n+"){";q='"'+l.replace(e,'"+v$1+"')+'"';d+="return "+q+";};"}else d+=q+'="'+l+'";'}}eval(d)}function z(b){if(/\./.test(b)){var a="";b=b.split(/\./);for(var d=0;d<b.length;d++)0<d&&(a+="."),a+=b[d],eval("typeof "+a+' == "undefined"')&&eval(a+"={};")}}function y(b){var a=[];b=parseInt(b.substr(2),
16);0<=b&&b<Math.pow(2,16)&&a.push(b);b="";for(var d=0;d<a.length;++d)b+=String.fromCharCode(a[d]);return b}m.i18n={};m.i18n.map={};m.i18n.properties=function(b){b=m.extend({name:"Messages",language:"",path:"",mode:"vars",cache:!1,encoding:"UTF-8",async:!1,availableLanguages:[],checkAvailableLanguages:!1,callback:null},b);b.language=this.normaliseLanguageCode(b.language);var a=function(a){b.totalFiles=0;b.filesLoaded=0;var c;c=(c=b.name)&&c.constructor==Array?c:[c];if(b.async)for(var f=0,e=c.length;f<
e;f++){b.totalFiles+=1;var k=b.language.substring(0,2);if(0==a.length||-1!=m.inArray(k,a))b.totalFiles+=1;5<=b.language.length&&(k=b.language.substring(0,5),0==a.length||-1!=m.inArray(k,a))&&(b.totalFiles+=1)}for(var g,h,e=0,n=c.length;e<n;e++){f=b.path+c[e]+".properties";k=b.language.substring(0,2);if(0==a.length||-1!=m.inArray(k,a))g=b.path+c[e]+"_"+k+".properties";5<=b.language.length&&(k=b.language.substring(0,5),0==a.length||-1!=m.inArray(k,a))&&(h=b.path+c[e]+"_"+k+".properties");v([f,g,h],
b);g=h=null}b.callback&&!b.async&&b.callback()};b.checkAvailableLanguages?m.ajax({url:b.path+"languages.json",async:b.async,cache:!1,success:function(b,c,f){a(b.languages||[])}}):a(b.availableLanguages)};m.i18n.prop=function(b){var a=m.i18n.map[b];if(null==a)return"["+b+"]";var d;2==arguments.length&&m.isArray(arguments[1])&&(d=arguments[1]);var c;if("string"==typeof a){for(c=0;-1!=(c=a.indexOf("\\",c));)a="t"==a.charAt(c+1)?a.substring(0,c)+"\t"+a.substring(c++ +2):"r"==a.charAt(c+1)?a.substring(0,
c)+"\r"+a.substring(c++ +2):"n"==a.charAt(c+1)?a.substring(0,c)+"\n"+a.substring(c++ +2):"f"==a.charAt(c+1)?a.substring(0,c)+"\f"+a.substring(c++ +2):"\\"==a.charAt(c+1)?a.substring(0,c)+"\\"+a.substring(c++ +2):a.substring(0,c)+a.substring(c+1);var f=[],e,k;for(c=0;c<a.length;)if("'"==a.charAt(c))if(c==a.length-1)a=a.substring(0,c);else if("'"==a.charAt(c+1))a=a.substring(0,c)+a.substring(++c);else{for(e=c+2;-1!=(e=a.indexOf("'",e));)if(e==a.length-1||"'"!=a.charAt(e+1)){a=a.substring(0,c)+a.substring(c+
1,e)+a.substring(e+1);c=e-1;break}else a=a.substring(0,e)+a.substring(++e);-1==e&&(a=a.substring(0,c)+a.substring(c+1))}else"{"==a.charAt(c)?(e=a.indexOf("}",c+1),-1==e?c++:(k=parseInt(a.substring(c+1,e)),!isNaN(k)&&0<=k?(c=a.substring(0,c),""!=c&&f.push(c),f.push(k),c=0,a=a.substring(e+1)):c=e+1)):c++;""!=a&&f.push(a);a=f;m.i18n.map[b]=f}if(0==a.length)return"";if(1==a.length&&"string"==typeof a[0])return a[0];f="";for(c=0;c<a.length;c++)f="string"==typeof a[c]?f+a[c]:d&&a[c]<d.length?f+d[a[c]]:
!d&&a[c]+1<arguments.length?f+arguments[a[c]+1]:f+("{"+a[c]+"}");return f};m.i18n.normaliseLanguageCode=function(b){if(!b||2>b.length)b=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage||"en";b=b.toLowerCase();b=b.replace(/-/,"_");3<b.length&&(b=b.substring(0,3)+b.substring(3).toUpperCase());return b};var n;n||(n=function(b,a,d){if("[object RegExp]"!==Object.prototype.toString.call(a))return"undefined"==typeof n._nativeSplit?b.split(a,d):n._nativeSplit.call(b,a,
d);var c=[],f=0,e=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.sticky?"y":"");a=new RegExp(a.source,e+"g");var k,g,h;b+="";n._compliantExecNpcg||(k=new RegExp("^"+a.source+"$(?!\\s)",e));if(void 0===d||0>+d)d=Infinity;else if(d=Math.floor(+d),!d)return[];for(;g=a.exec(b);){e=g.index+g[0].length;if(e>f&&(c.push(b.slice(f,g.index)),!n._compliantExecNpcg&&1<g.length&&g[0].replace(k,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(g[a]=void 0)}),1<g.length&&g.index<b.length&&Array.prototype.push.apply(c,
g.slice(1)),h=g[0].length,f=e,c.length>=d))break;a.lastIndex===g.index&&a.lastIndex++}f===b.length?!h&&a.test("")||c.push(""):c.push(b.slice(f));return c.length>d?c.slice(0,d):c},n._compliantExecNpcg=void 0===/()??/.exec("")[1],n._nativeSplit=String.prototype.split);String.prototype.split=function(b,a){return n(this,b,a)}})(jQuery);
